<div class="row mt-5">
    <div class="col-md-6 m-auto">
      <div class="card card-body">
       
         <%- include('./partials/messages')  %>  
        <form action="/dashboard/<%= details.id %> " method="POST">
          <div class="form-group">
            <label for="name">First_Name</label>
            <input
              type="name"
              id="name"
              name="first_name"
              class="form-control"
              placeholder="Enter Name"
              required = "required"
              value="<%= typeof first_name != 'undefined' ? first_name : details.first_name %>"
            />
          </div>
          <div class="form-group">
            <label for="name">Last_Name</label>
              <input
                type="name"
                id="name"
                name="last_name"
                class="form-control"
                placeholder="Enter Name"
                required = "required"
                value="<%= typeof last_name != 'undefined' ? last_name : details.last_name %>"
              />
          </div>
          
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              class="form-control"
              placeholder="Enter Email"
              required = "required"
              value="<%= typeof email != 'undefined' ? email : details.email %>"
            />
          </div>
         
          
          <button type="submit" class="btn btn-primary btn-block">
            Edit
          </button>
          <a  class=" btns btn btn-primary btn-block"  data-doc="<%= details.id %> ">
            Delete
          </a>
         
        </form>
      </div>
    </div>
  </div>
  <script>
    $('.btns').click(function() {
       
        
       const trashcan = document.querySelector('.btns');
       
           const endpoint = `/dashboard/${trashcan.dataset.doc}`;
           alert(endpoint);
           // we need to use this because we want the delete request to be send once the delete button has been clicked 
           // so for that we need to use the frontend javascript 
           // and for that fetch is to used.
           fetch(endpoint, {
               method: 'DELETE'
           })
           .then((response) => response.json()) // convertion of json data to actual javascript object
           .then((data) =>  window.location.href = data.redirect)
           .catch(err => console.log(err));
     
      
       })

     
   

  </script>

  